<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" >
    <script src="eel.js"></script>
</head>
<body>
    <section class="header">
        <div class="name-prog">
        <h1 class="text-1">Калькулятор минимальных затрат</h1>
        </div>
        <h1 class="tex1">Добро пожаловать в программу для вычисления минимального плана перевозок методом северо-западного угла на сети</h1>
    </section>
  <table id="data-table">
    <tr>
      <th>Вершина 1</th>
      <th>Вершина 2</th>
       <th>Вес ребра</th> 
    </tr>
    <tr>
      <td><input type="text" class="data-cell" /></td>
      <td><input type="text" class="data-cell" /></td>
        <td><input type="text" class="data-cell" /></td>
    </tr>
  </table>
    <div class="tex1"><h1>Данные необходимо вводить целыми числами, по одному в ячейку.</h1></div>

  <button onclick="addRow()" class="sliding-button">Добавить ряд</button>
  <button onclick="removeRow()" class="sliding-button">Удалить ряд</button>
    <div class="tex1"><h1>Возле точек отпралвения товара необходимо поставить "."</h1></div>
    <table id="data-table2">
    <tr>
      <th>Вершины графа</th>
        <th>Запасы/Потребности</th>
    </tr>
    <tr>
      <td><input type="text" class="data-cell" /></td>
        <td><input type="text" class="data-cell" /></td>

    </tr>
  </table>
    <button onclick="addRow2()" class="sliding-button">Добавить ряд</button>
  <button onclick="removeRow2()" class="sliding-button">Удалить ряд</button>
  <script>
    function addRow() {
  var table = document.getElementById("data-table");
  var rowCount = table.rows.length;
  var columnCount = table.rows[0].cells.length;

  // Вставляем новую строку перед последней строкой
  var newRow = table.insertRow(rowCount);



  

  // Добавляем ячейки в строку
  for (var i = 0; i < columnCount; i++) {
    var cell = newRow.insertCell(i);
    cell.innerHTML = '<input type="text" class="data-cell" />';
  }
}
function addRow2() {
  var table = document.getElementById("data-table2");
  var rowCount = table.rows.length;
  var columnCount = table.rows[0].cells.length;

  // Вставляем новую строку перед последней строкой
  var newRow = table.insertRow(rowCount);



  

  // Добавляем ячейки в строку
  for (var i = 0; i < columnCount; i++) {
    var cell = newRow.insertCell(i);
    cell.innerHTML = '<input type="text" class="data-cell" />';
  }
}



    function removeRow() {
      var table = document.getElementById("data-table");
      if (table.rows.length > 2) {
        table.deleteRow(-1);
      }
    }
      function removeRow2() {
      var table = document.getElementById("data-table2");
      if (table.rows.length > 2) {
        table.deleteRow(-1);
      }
    }


      async function collectData() {
  var table = document.getElementById("data-table");
  var dataArray = [];

  // Проходимся по каждой строке таблицы
  for (var i = 1; i < table.rows.length; i++) {
    var rowData = [];

    // Проходимся по каждой ячейке в строке
    for (var j = 0; j < table.rows[i].cells.length; j++) {
      var cell = table.rows[i].cells[j];
      var inputData = cell.querySelector("input");

      if (inputData) {
        rowData.push(inputData.value);
      }
    }

    dataArray.push(rowData);
  }
          var table1 = document.getElementById("data-table2");
  var dataArray1 = [];

  // Проходимся по каждой строке таблицы
  for (var i = 1; i < table1.rows.length; i++) {
    var rowData1 = [];

    // Проходимся по каждой ячейке в строке
    for (var j = 0; j < table1.rows[i].cells.length; j++) {
      var cell = table1.rows[i].cells[j];
      var inputData1 = cell.querySelector("input");

      if (inputData1) {
        rowData1.push(inputData1.value);
      }
    }

    dataArray1.push(rowData1);
  }
 let nn = await eel.collect_data11(dataArray, dataArray1)();

  console.log(dataArray);
          console.log(dataArray1);// Выводим массив данных в консоль (можно изменить на свою логику обработки данных)

  // Дополнительный код для отправки данных или выполнения других операций с массивом данных
}

// Создаем кнопку для сбора данных
var collectButton = document.createElement("button");
collectButton.setAttribute("class", "sliding-button")
collectButton.innerHTML = "Рассчитать";
collectButton.addEventListener("click", collectData);

// Добавляем кнопку на страницу
document.body.appendChild(collectButton);
  </script>
</body>
</html>
